<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smart Surau Dashboard</title>
  <link rel="stylesheet" href="css/style.css">
  <script defer src="js/auth.js"></script>
</head>
<body>
  <div class="container">
    <img src="assets/logo.png" class="logo" alt="Smart Surau">
    <h2>Smart Surau Admin</h2>

    <div class="login-box" id="login-box">
      <input type="text" id="email" placeholder="Emel Admin" autocomplete="email">
      <div class="password-container">
        <input type="password" id="password" placeholder="Kata Laluan" autocomplete="current-password">
        <span class="toggle-password" onclick="togglePassword()">üëÅÔ∏è</span>
      </div>
      <button onclick="login()">Log Masuk</button>
      <a href="#" class="forgot-password" onclick="forgotPassword(); return false;">Lupa Kata Laluan?</a>
      <div class="error" id="error-msg">Emel atau kata laluan salah</div>
    </div>

<div class="dashboard hidden" id="dashboard">
    <h3>Selamat Datang, <span id="admin-name">Admin</span></h3>
    
    <div class="menu-grid">
        
        <a href="attendance.html" class="menu-item">
            <i class="fas fa-clipboard-list"></i> 
            <span>Lihat Kehadiran</span>
        </a>
        
        <a href="location.html" class="menu-item">
            <i class="fas fa-map-marker-alt"></i> 
            <span>Semak Lokasi</span>
        </a>
        
        <a href="waktusolat.html" class="menu-item">
            <i class="fas fa-clock"></i> 
            <span>Lihat Waktu Solat</span>
        </a>
        
        <a href="panduan.html" class="menu-item">
            <i class="fas fa-book-open"></i> 
            <span>Panduan Wuduk & Solat</span>
        </a>
        
    </div>

    <button onclick="logout()" class="logout-button">Log Keluar</button>

</div>

    <!-- Forgot Password Modal -->
    <div class="modal hidden" id="forgot-modal">
      <div class="modal-content">
        <h3>Reset Kata Laluan</h3>
        <p>Masukkan emel anda untuk menerima kod reset:</p>
        <input type="text" id="forgot-email" placeholder="Emel Admin">
        <button onclick="sendResetCode()">Hantar Kod</button>
        <button class="btn-secondary" onclick="closeForgotModal()">Batal</button>
        <div class="error" id="forgot-error"></div>
      </div>
    </div>

    <!-- Reset Code Modal -->
    <div class="modal hidden" id="reset-modal">
      <div class="modal-content">
        <h3>Masukkan Kod Reset</h3>
        <p>Kod reset telah dihantar ke <strong id="reset-email"></strong></p>
        <p class="code-display">Kod anda: <strong id="display-code"></strong></p>
        <input type="text" id="reset-code" placeholder="Masukkan Kod (6 digit)">
        <input type="password" id="new-password" placeholder="Kata Laluan Baru">
        <input type="password" id="confirm-password" placeholder="Sahkan Kata Laluan">
        <button onclick="resetPassword()">Reset Kata Laluan</button>
        <button class="btn-secondary" onclick="closeResetModal()">Batal</button>
        <div class="error" id="reset-error"></div>
        <div class="success hidden" id="reset-success">Kata laluan berjaya ditukar!</div>
      </div>
    </div>
  </div>
</body>
</html>
